{% extends "baseXP.html" %}

{% block menuTop %}



<li class="hover">
    <a href="#modal-ssp" role="button" data-toggle="modal" onclick="new_modal_ssp_click()">
        <i class="menu-icon fa fa-plus"></i>
        <span class="menu-text">  Add Supplies  </span>
    </a>

    <b class="arrow"></b>
</li>


<li class="hover">
    <a href="?opcion=service">
        <i class="menu-icon fa fa-print"></i>
        <span class="menu-text">  Report  </span>
    </a>

    <b class="arrow"></b>
</li>



{% endblock %}



{% block content_menu %}


{% endblock %}




{% block content_wrapper %}


<div class="row" >

    <div class="col-xs-12 barra_superior_datatable" >

        <span class="livicon"    data-hovercolor="white"
        data-color="white" data-name="settings" data-size="24">
    </span>
    SERVICE



    <a class="btn btn-success pull-right bolder" href="#modal-ssp" role="button" data-toggle="modal" 
    onclick="new_modal_ssp_click()" >  <span class="livicon"    data-hovercolor="white"
        data-color="white" data-name="plus-alt" data-size="18"></span>   ADD SUPPLIES 
    </a>


</div>

</div>


<div class="row" >
    <div id="panel_service" class="col-md-12 col-xs-12 col-sm-6 widget-container-col ui-sortable">
        <div class="widget-box ui-sortable-handle">


            <div class="row" >
                <div id="panel_service" class="col-md-12 col-xs-12 col-sm-12 widget-container-col ui-sortable">            

                    <div class="widget-body" style="display: block;">
                        <div class="widget-main">

                            <div class="row view_service" id="view_service">    
                                {{ dato.view_service|raw }}
                            </div>   
                </div>
            </div>
        </div>
    </div>


</div>
</div>

</div>
<div class="row" >

    <div class="col-xs-12">


        <div class="clearfix options-print-datatable" >
            <div class="pull-right tableTools-container"></div>
        </div>

        <!--<div class="table-header">
            Listado
        </div>-->

        <div id="view">

            {{ dato.datatable|raw }} 


        </div>
    </div>

</div>



<div id = "modal-ssp" class="modal fade" tabindex="-1">
    <div id="content-modal-ssp"></div>
</div>


<div id = "modal-sspcan" class="modal fade" tabindex="-1">
    <div id="content-modal-sspcan"></div>
</div>


{% endblock %}

{% block javascript %}


<script type="text/javascript">




function new_modal_ssp_click(x) {
    goto_lsdajax001('new_ssp', [x], 'content-modal-ssp','module/serviceSupplies/ssp_AJAX.php');
}


function submit_modal_ssp_click(x) {
    goto_lsdajax001('edit_ssp', [x], 'content-modal-ssp','module/serviceSupplies/ssp_AJAX.php');
}


function submit_form_ssp_click() {
    var vista = 'view';
    var data = $('#form_ssp').serialize();
    goto_lsdajax002('save_ssp', [data], vista,'module/serviceSupplies/ssp_AJAX.php');
}





function submit_modal_sspcan_click(x) {
    goto_lsdajax001('edit_sspcan', [x], 'content-modal-sspcan','module/serviceSupplies/ssp_AJAX.php');
}


function submit_form_sspcan_click() {
    var vista = 'view';
    var data = $('#form_sspcan').serialize();
    goto_lsdajax002('save_sspcan', [data], vista,'module/serviceSupplies/ssp_AJAX.php');

}



function response_lsdajax002(){
    initDatatable();
}


function response_lsdajax001(){
    validation_form();
     refresh_JS1();

}



/*
jQuery(function($){

  $('.multiselect').multiselect({
     enableFiltering: true,
     enableHTML: true,
     buttonClass: 'btn btn-white btn-primary',
     templates: {
        button: '<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> &nbsp;<b class="fa fa-caret-down"></b></button>',
        ul: '<ul class="multiselect-container dropdown-menu"></ul>',
        filter: '<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',
        filterClearBtn: '<span class="input-group-btn"><button class="btn btn-default btn-white btn-grey multiselect-clear-filter" type="button"><i class="fa fa-times-circle red2"></i></button></span>',
        li: '<li><a tabindex="0"><label></label></a></li>',
        divider: '<li class="multiselect-item divider"></li>',
        liGroup: '<li class="multiselect-item multiselect-group"><label></label></li>'
    }
  });


});

*/


initDatatable();





function refresh_JS1(){

 var demo1 = $('select[name="sspsupid[]"]').bootstrapDualListbox({infoTextFiltered: '<span class="label label-purple label-lg">Filtered</span>'});

 var container1 = demo1.bootstrapDualListbox('getContainer');
 container1.find('.btn').addClass('btn-white btn-info btn-bold');




 $('.multiselect').multiselect({
   enableFiltering: true,
   enableHTML: true,
   buttonClass: 'btn btn-white btn-primary',
   templates: {
    button: '<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> &nbsp;<b class="fa fa-caret-down"></b></button>',
    ul: '<ul class="multiselect-container dropdown-menu"></ul>',
    filter: '<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',
    filterClearBtn: '<span class="input-group-btn"><button class="btn btn-default btn-white btn-grey multiselect-clear-filter" type="button"><i class="fa fa-times-circle red2"></i></button></span>',
    li: '<li><a tabindex="0"><label></label></a></li>',
    divider: '<li class="multiselect-item divider"></li>',
    liGroup: '<li class="multiselect-item multiselect-group"><label></label></li>'
}
});

}



function refresh_JS() {


    $(".date").datepicker({
        format: 'dd/mm/yyyy',
        showOtherMonths: true,
        selectOtherMonths: false

    });

    $('.date').mask('99/99/2999');

}



</script>  

{% endblock %}


{% block css %}

{% endblock %}


